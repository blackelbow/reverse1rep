{"ast":null,"code":"var React = require('react');\n\nvar transitionEvents = require('domkit/transitionEvents');\n\nvar appendVendorPrefix = require('domkit/appendVendorPrefix');\n\nmodule.exports = function (animation) {\n  return React.createClass({\n    propTypes: {\n      className: React.PropTypes.string,\n      // Close the modal when esc is pressed? Defaults to true.\n      keyboard: React.PropTypes.bool,\n      onShow: React.PropTypes.func,\n      onHide: React.PropTypes.func,\n      animation: React.PropTypes.object,\n      backdrop: React.PropTypes.bool,\n      closeOnClick: React.PropTypes.bool,\n      modalStyle: React.PropTypes.object,\n      backdropStyle: React.PropTypes.object,\n      contentStyle: React.PropTypes.object\n    },\n    getDefaultProps: function () {\n      return {\n        className: \"\",\n        onShow: function () {},\n        onHide: function () {},\n        animation: animation,\n        keyboard: true,\n        backdrop: true,\n        closeOnClick: true,\n        modalStyle: {},\n        backdropStyle: {},\n        contentStyle: {}\n      };\n    },\n    getInitialState: function () {\n      return {\n        willHidden: false,\n        hidden: true\n      };\n    },\n    hasHidden: function () {\n      return this.state.hidden;\n    },\n    addTransitionListener: function (node, handle) {\n      if (node) {\n        var endListener = function (e) {\n          if (e && e.target !== node) {\n            return;\n          }\n\n          transitionEvents.removeEndEventListener(node, endListener);\n          handle();\n        };\n\n        transitionEvents.addEndEventListener(node, endListener);\n      }\n    },\n    handleBackdropClick: function () {\n      if (this.props.closeOnClick) {\n        this.hide();\n      }\n    },\n    render: function () {\n      var hidden = this.hasHidden();\n      if (hidden) return null;\n      var willHidden = this.state.willHidden;\n      var animation = this.props.animation;\n      var modalStyle = animation.getModalStyle(willHidden);\n      var backdropStyle = animation.getBackdropStyle(willHidden);\n      var contentStyle = animation.getContentStyle(willHidden);\n      var ref = animation.getRef(willHidden);\n      var sharp = animation.getSharp && animation.getSharp(willHidden); // Apply custom style properties\n\n      if (this.props.modalStyle) {\n        var prefixedModalStyle = appendVendorPrefix(this.props.modalStyle);\n\n        for (var style in prefixedModalStyle) {\n          modalStyle[style] = prefixedModalStyle[style];\n        }\n      }\n\n      if (this.props.backdropStyle) {\n        var prefixedBackdropStyle = appendVendorPrefix(this.props.backdropStyle);\n\n        for (var style in prefixedBackdropStyle) {\n          backdropStyle[style] = prefixedBackdropStyle[style];\n        }\n      }\n\n      if (this.props.contentStyle) {\n        var prefixedContentStyle = appendVendorPrefix(this.props.contentStyle);\n\n        for (var style in prefixedContentStyle) {\n          contentStyle[style] = prefixedContentStyle[style];\n        }\n      }\n\n      var backdrop = this.props.backdrop ? React.createElement(\"div\", {\n        style: backdropStyle,\n        onClick: this.props.closeOnClick ? this.handleBackdropClick : null\n      }) : undefined;\n\n      if (willHidden) {\n        var node = this.refs[ref];\n        this.addTransitionListener(node, this.leave);\n      }\n\n      return React.createElement(\"span\", null, React.createElement(\"div\", {\n        ref: \"modal\",\n        style: modalStyle,\n        className: this.props.className\n      }, sharp, React.createElement(\"div\", {\n        ref: \"content\",\n        tabIndex: \"-1\",\n        style: contentStyle\n      }, this.props.children)), backdrop);\n    },\n    leave: function () {\n      this.setState({\n        hidden: true\n      });\n      this.props.onHide();\n    },\n    enter: function () {\n      this.props.onShow();\n    },\n    show: function () {\n      if (!this.hasHidden()) return;\n      this.setState({\n        willHidden: false,\n        hidden: false\n      });\n      setTimeout(function () {\n        var ref = this.props.animation.getRef();\n        var node = this.refs[ref];\n        this.addTransitionListener(node, this.enter);\n      }.bind(this), 0);\n    },\n    hide: function () {\n      if (this.hasHidden()) return;\n      this.setState({\n        willHidden: true\n      });\n    },\n    toggle: function () {\n      if (this.hasHidden()) this.show();else this.hide();\n    },\n    listenKeyboard: function (event) {\n      if (this.props.keyboard && (event.key === \"Escape\" || event.keyCode === 27)) {\n        this.hide();\n      }\n    },\n    componentDidMount: function () {\n      window.addEventListener(\"keydown\", this.listenKeyboard, true);\n    },\n    componentWillUnmount: function () {\n      window.removeEventListener(\"keydown\", this.listenKeyboard, true);\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/CJ's Ultra Machine/Desktop/reverseonerep/node_modules/boron/modalFactory.js"],"names":["React","require","transitionEvents","appendVendorPrefix","module","exports","animation","createClass","propTypes","className","PropTypes","string","keyboard","bool","onShow","func","onHide","object","backdrop","closeOnClick","modalStyle","backdropStyle","contentStyle","getDefaultProps","getInitialState","willHidden","hidden","hasHidden","state","addTransitionListener","node","handle","endListener","e","target","removeEndEventListener","addEndEventListener","handleBackdropClick","props","hide","render","getModalStyle","getBackdropStyle","getContentStyle","ref","getRef","sharp","getSharp","prefixedModalStyle","style","prefixedBackdropStyle","prefixedContentStyle","createElement","onClick","undefined","refs","leave","tabIndex","children","setState","enter","show","setTimeout","bind","toggle","listenKeyboard","event","key","keyCode","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener"],"mappings":"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","sourcesContent":["var React = require('react');\nvar transitionEvents = require('domkit/transitionEvents');\nvar appendVendorPrefix = require('domkit/appendVendorPrefix');\n\nmodule.exports = function(animation){\n\n    return React.createClass({\n        propTypes: {\n            className: React.PropTypes.string,\n            // Close the modal when esc is pressed? Defaults to true.\n            keyboard: React.PropTypes.bool,\n            onShow: React.PropTypes.func,\n            onHide: React.PropTypes.func,\n            animation: React.PropTypes.object,\n            backdrop: React.PropTypes.bool,\n            closeOnClick: React.PropTypes.bool,\n            modalStyle: React.PropTypes.object,\n            backdropStyle: React.PropTypes.object,\n            contentStyle: React.PropTypes.object,\n        },\n\n        getDefaultProps: function() {\n            return {\n                className: \"\",\n                onShow: function(){},\n                onHide: function(){},\n                animation: animation,\n                keyboard: true,\n                backdrop: true,\n                closeOnClick: true,\n                modalStyle: {},\n                backdropStyle: {},\n                contentStyle: {},\n            };\n        },\n\n        getInitialState: function(){\n            return {\n                willHidden: false,\n                hidden: true\n            }\n        },\n\n        hasHidden: function(){\n            return this.state.hidden;\n        },\n\n        addTransitionListener: function(node, handle){\n            if (node) {\n              var endListener = function(e) {\n                  if (e && e.target !== node) {\n                      return;\n                  }\n                  transitionEvents.removeEndEventListener(node, endListener);\n                  handle();\n              };\n              transitionEvents.addEndEventListener(node, endListener);\n            }\n        },\n\n        handleBackdropClick: function() {\n            if (this.props.closeOnClick) {\n                this.hide();\n            }\n        },\n\n        render: function() {\n\n            var hidden = this.hasHidden();\n            if (hidden) return null;\n\n            var willHidden = this.state.willHidden;\n            var animation = this.props.animation;\n            var modalStyle = animation.getModalStyle(willHidden);\n            var backdropStyle = animation.getBackdropStyle(willHidden);\n            var contentStyle = animation.getContentStyle(willHidden);\n            var ref = animation.getRef(willHidden);\n            var sharp = animation.getSharp && animation.getSharp(willHidden);\n\n            // Apply custom style properties\n            if (this.props.modalStyle) {\n                var prefixedModalStyle = appendVendorPrefix(this.props.modalStyle);\n                for (var style in prefixedModalStyle) {\n                    modalStyle[style] = prefixedModalStyle[style];\n                }\n            }\n\n            if (this.props.backdropStyle) {\n              var prefixedBackdropStyle = appendVendorPrefix(this.props.backdropStyle);\n                for (var style in prefixedBackdropStyle) {\n                    backdropStyle[style] = prefixedBackdropStyle[style];\n                }\n            }\n\n            if (this.props.contentStyle) {\n              var prefixedContentStyle = appendVendorPrefix(this.props.contentStyle);\n                for (var style in prefixedContentStyle) {\n                    contentStyle[style] = prefixedContentStyle[style];\n                }\n            }\n\n            var backdrop = this.props.backdrop? React.createElement(\"div\", {style: backdropStyle, onClick: this.props.closeOnClick? this.handleBackdropClick: null}): undefined;\n\n            if(willHidden) {\n                var node = this.refs[ref];\n                this.addTransitionListener(node, this.leave);\n            }\n\n            return (React.createElement(\"span\", null, \n                React.createElement(\"div\", {ref: \"modal\", style: modalStyle, className: this.props.className}, \n                    sharp, \n                    React.createElement(\"div\", {ref: \"content\", tabIndex: \"-1\", style: contentStyle}, \n                        this.props.children\n                    )\n                ), \n                backdrop\n             ))\n            ;\n        },\n\n        leave: function(){\n            this.setState({\n                hidden: true\n            });\n            this.props.onHide();\n        },\n\n        enter: function(){\n            this.props.onShow();\n        },\n\n        show: function(){\n            if (!this.hasHidden()) return;\n\n            this.setState({\n                willHidden: false,\n                hidden: false\n            });\n\n            setTimeout(function(){\n              var ref = this.props.animation.getRef();\n              var node = this.refs[ref];\n              this.addTransitionListener(node, this.enter);\n            }.bind(this), 0);\n        },\n\n        hide: function(){\n            if (this.hasHidden()) return;\n\n            this.setState({\n                willHidden: true\n            });\n        },\n\n        toggle: function(){\n            if (this.hasHidden())\n                this.show();\n            else\n                this.hide();\n        },\n\n        listenKeyboard: function(event) {\n            if (this.props.keyboard &&\n                    (event.key === \"Escape\" ||\n                     event.keyCode === 27)) {\n                this.hide();\n            }\n        },\n\n        componentDidMount: function(){\n            window.addEventListener(\"keydown\", this.listenKeyboard, true);\n        },\n\n        componentWillUnmount: function() {\n            window.removeEventListener(\"keydown\", this.listenKeyboard, true);\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"script"}